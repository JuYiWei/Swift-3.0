<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  访问控制 - Swift 3.0 官方文档 自整理 - 说了是村长
  
  </title>
 <meta name="description" content="说了是村长，Swift 3.0 中文版">
 <link href="atom.xml" rel="alternate" title="Swift 3.0 官方文档 自整理 - 说了是村长" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">Swift 3.0 官方文档 自整理 - 说了是村长</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Swift 3.0 官方文档 自整理 - 说了是村长</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>欢迎加入 Swift</label></li>

          
            <li><a title="关于 Swift" href="14743413991106.html">关于 Swift</a></li>
          
            <li><a title="Swift 之旅 待" href="14743413996803.html">Swift 之旅 待</a></li>
          

      
        <li class="divider"></li>
        <li><label>开发指南</label></li>

          
            <li><a title="基础知识 待" href="14743596331025.html">基础知识 待</a></li>
          
            <li><a title="基础运算操作 待" href="14743596434163.html">基础运算操作 待</a></li>
          
            <li><a title="字符串和字符" href="14743596689452.html">字符串和字符</a></li>
          
            <li><a title="集合类型" href="14743596859367.html">集合类型</a></li>
          
            <li><a title="控制流" href="14743597355186.html">控制流</a></li>
          
            <li><a title="函数" href="14743597582027.html">函数</a></li>
          
            <li><a title="闭包" href="14743597798199.html">闭包</a></li>
          
            <li><a title="枚举" href="14743597933965.html">枚举</a></li>
          
            <li><a title="类和结构" href="14743598083496.html">类和结构</a></li>
          
            <li><a title="属性" href="14743598294467.html">属性</a></li>
          
            <li><a title="方法" href="14743598422216.html">方法</a></li>
          
            <li><a title="下标语法" href="14743598556978.html">下标语法</a></li>
          
            <li><a title="继承" href="14743598699234.html">继承</a></li>
          
            <li><a title="初始化" href="14743599314901.html">初始化</a></li>
          
            <li><a title="反初始化" href="14743599349637.html">反初始化</a></li>
          
            <li><a title="自动引用计数" href="14743599484388.html">自动引用计数</a></li>
          
            <li><a title="可选链接" href="14743599610249.html">可选链接</a></li>
          
            <li><a title="错误处理 cool" href="14743599754782.html">错误处理 cool</a></li>
          
            <li><a title="类型转换 cool" href="14743599908626.html">类型转换 cool</a></li>
          
            <li><a title="嵌套类型" href="14743600051579.html">嵌套类型</a></li>
          
            <li><a title="扩展" href="14743600183280.html">扩展</a></li>
          
            <li><a title="协议" href="14743600314526.html">协议</a></li>
          
            <li><a title="泛型" href="14743600461552.html">泛型</a></li>
          
            <li><a title="访问控制" href="14743600592705.html">访问控制</a></li>
          
            <li><a title="高级操作员" href="14743600739128.html">高级操作员</a></li>
          

      
        <li class="divider"></li>
        <li><label>语法参考</label></li>

          
            <li><a title="关于语言参考" href="14743601362358.html">关于语言参考</a></li>
          
            <li><a title="词法结构" href="14743601580892.html">词法结构</a></li>
          
            <li><a title="类型" href="14743601607750.html">类型</a></li>
          
            <li><a title="表达式" href="14743601746767.html">表达式</a></li>
          
            <li><a title="语句？" href="14743601868497.html">语句？</a></li>
          
            <li><a title="声明" href="14743602139425.html">声明</a></li>
          
            <li><a title="属性" href="14743602336703.html">属性</a></li>
          
            <li><a title="模式" href="14743602627751.html">模式</a></li>
          
            <li><a title="泛型参数和参数" href="14743602774984.html">泛型参数和参数</a></li>
          
            <li><a title="语法摘要" href="14743602864403.html">语法摘要</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>欢迎加入 Swift</span></li>
                        
                          <li><a title="关于 Swift" href="14743413991106.html">关于 Swift</a></li>
                        
                          <li><a title="Swift 之旅 待" href="14743413996803.html">Swift 之旅 待</a></li>
                        

                    
                      <li class="side-title"><span>开发指南</span></li>
                        
                          <li><a title="基础知识 待" href="14743596331025.html">基础知识 待</a></li>
                        
                          <li><a title="基础运算操作 待" href="14743596434163.html">基础运算操作 待</a></li>
                        
                          <li><a title="字符串和字符" href="14743596689452.html">字符串和字符</a></li>
                        
                          <li><a title="集合类型" href="14743596859367.html">集合类型</a></li>
                        
                          <li><a title="控制流" href="14743597355186.html">控制流</a></li>
                        
                          <li><a title="函数" href="14743597582027.html">函数</a></li>
                        
                          <li><a title="闭包" href="14743597798199.html">闭包</a></li>
                        
                          <li><a title="枚举" href="14743597933965.html">枚举</a></li>
                        
                          <li><a title="类和结构" href="14743598083496.html">类和结构</a></li>
                        
                          <li><a title="属性" href="14743598294467.html">属性</a></li>
                        
                          <li><a title="方法" href="14743598422216.html">方法</a></li>
                        
                          <li><a title="下标语法" href="14743598556978.html">下标语法</a></li>
                        
                          <li><a title="继承" href="14743598699234.html">继承</a></li>
                        
                          <li><a title="初始化" href="14743599314901.html">初始化</a></li>
                        
                          <li><a title="反初始化" href="14743599349637.html">反初始化</a></li>
                        
                          <li><a title="自动引用计数" href="14743599484388.html">自动引用计数</a></li>
                        
                          <li><a title="可选链接" href="14743599610249.html">可选链接</a></li>
                        
                          <li><a title="错误处理 cool" href="14743599754782.html">错误处理 cool</a></li>
                        
                          <li><a title="类型转换 cool" href="14743599908626.html">类型转换 cool</a></li>
                        
                          <li><a title="嵌套类型" href="14743600051579.html">嵌套类型</a></li>
                        
                          <li><a title="扩展" href="14743600183280.html">扩展</a></li>
                        
                          <li><a title="协议" href="14743600314526.html">协议</a></li>
                        
                          <li><a title="泛型" href="14743600461552.html">泛型</a></li>
                        
                          <li><a title="访问控制" href="14743600592705.html">访问控制</a></li>
                        
                          <li><a title="高级操作员" href="14743600739128.html">高级操作员</a></li>
                        

                    
                      <li class="side-title"><span>语法参考</span></li>
                        
                          <li><a title="关于语言参考" href="14743601362358.html">关于语言参考</a></li>
                        
                          <li><a title="词法结构" href="14743601580892.html">词法结构</a></li>
                        
                          <li><a title="类型" href="14743601607750.html">类型</a></li>
                        
                          <li><a title="表达式" href="14743601746767.html">表达式</a></li>
                        
                          <li><a title="语句？" href="14743601868497.html">语句？</a></li>
                        
                          <li><a title="声明" href="14743602139425.html">声明</a></li>
                        
                          <li><a title="属性" href="14743602336703.html">属性</a></li>
                        
                          <li><a title="模式" href="14743602627751.html">模式</a></li>
                        
                          <li><a title="泛型参数和参数" href="14743602774984.html">泛型参数和参数</a></li>
                        
                          <li><a title="语法摘要" href="14743602864403.html">语法摘要</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>访问控制</h1>

<ul>
<li>
<a href="#toc_0">简介</a>
</li>
<li>
<a href="#toc_1">框架和源文件</a>
</li>
<li>
<a href="#toc_2">访问级别</a>
<ul>
<li>
<a href="#toc_3">访问级别的指导原则</a>
</li>
<li>
<a href="#toc_4">默认访问级别</a>
</li>
<li>
<a href="#toc_5">访问级别为单一目标应用程序</a>
</li>
<li>
<a href="#toc_6">访问级别为框架</a>
</li>
<li>
<a href="#toc_7">访问级别为单元测试目标</a>
</li>
</ul>
</li>
<li>
<a href="#toc_8">访问控制语法</a>
</li>
<li>
<a href="#toc_9">自定义类型</a>
<ul>
<li>
<a href="#toc_10">元组类型</a>
</li>
<li>
<a href="#toc_11">函数类型</a>
</li>
<li>
<a href="#toc_12">枚举类型</a>
</li>
<li>
<a href="#toc_13">嵌套类型</a>
</li>
</ul>
</li>
<li>
<a href="#toc_14">子类化</a>
</li>
<li>
<a href="#toc_15">常量，变量，属性和下标</a>
<ul>
<li>
<a href="#toc_16">getter和setter</a>
</li>
</ul>
</li>
<li>
<a href="#toc_17">初始化器</a>
<ul>
<li>
<a href="#toc_18">默认初始化器</a>
</li>
<li>
<a href="#toc_19">默认按成员初始化器的结构类型</a>
</li>
</ul>
</li>
<li>
<a href="#toc_20">协议</a>
<ul>
<li>
<a href="#toc_21">协议继承</a>
</li>
<li>
<a href="#toc_22">协议一致性</a>
</li>
</ul>
</li>
<li>
<a href="#toc_23">扩展</a>
<ul>
<li>
<a href="#toc_24">添加协议一致性与扩展</a>
</li>
</ul>
</li>
<li>
<a href="#toc_25">泛型</a>
</li>
<li>
<a href="#toc_26">类型别名</a>
</li>
</ul>


<h1 id="toc_0">简介</h1>

<p><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html#//apple_ref/doc/uid/TP40014097-CH41-ID3">Access Control 官方文档</a></p>

<h1 id="toc_1">框架和源文件</h1>

<ul>
<li>framework框架和.swift源文件，作为访问控制的基础。</li>
</ul>

<h1 id="toc_2">访问级别</h1>

<h2 id="toc_3">访问级别的指导原则</h2>

<ul>
<li>总体指导原则：任何单位可以在具有较低的（更严格的）访问级别其他实体来定义。</li>
</ul>

<h2 id="toc_4">默认访问级别</h2>

<p>在代码中所有实体（有一些特定的异常，如本章后面介绍）有内部默认的访问级别，如果你没有指定自己一个明确的访问级别。其结果是，在很多情况下，你不需要指定你的代码一个明确的访问级别。</p>

<h2 id="toc_5">访问级别为单一目标应用程序</h2>

<p>当你写一个简单的单一目标的应用程序，在您的应用程序中的代码通常是自包含的应用程序内并不需要进行应用程序的模块外提供。内部默认的访问级别相匹配已经这个要求。因此，您不需要指定自定义访问级别。您可能，但是，要标记为私人文件或私有代码的某些部分，以隐藏应用程序的模块中的其他代码的实现细节。</p>

<h2 id="toc_6">访问级别为框架</h2>

<p>当你制定一个框架，标志着面向公众的接口，该框架公开或公开，这样它可以被看作和其他模块，如导入框架应用程序访问。这个面向公众的接口是框架的应用程序编程接口（或API）。</p>

<p>注意</p>

<p>您框架的任何内部实现细节仍然可以使用内部的默认访问级别，或者可以被标记为私有，或者如果你想从框架的内部代码的其他部分隐藏文件的私密性。您需要标注的实体开放或公共只有当你想让它成为你的框架的API的一部分。</p>

<h2 id="toc_7">访问级别为单元测试目标</h2>

<p>当你写一个单元测试目标的应用程序，在您的应用程序代码需要提供给该模块以进行测试。默认情况下，只有实体标记为公开或公开的其他模块访问。然而，一个单元测试目标可以访问任何内部实体，如果标记为同一个产品模块的进口报关@testable属性和编译该产品模块的测试功能。</p>

<h1 id="toc_8">访问控制语法</h1>

<ul>
<li>open，public，internal，fileprivate，private修饰语。默认的访问级别是internal。</li>
</ul>

<pre><code>public class SomePublicClass {}
internal class SomeInternalClass {}
fileprivate class SomeFilePrivateClass {}
private class SomePrivateClass {}
 
public var somePublicVariable = 0
internal let someInternalConstant = 0
fileprivate func someFilePrivateFunction() {}
private func somePrivateFunction() {}
</code></pre>

<h1 id="toc_9">自定义类型</h1>

<ul>
<li>public，private，fileprivate，internal，默认是internal。</li>
</ul>

<pre><code>public class SomePublicClass {                  // explicitly public class
    public var somePublicProperty = 0            // explicitly public class member
    var someInternalProperty = 0                 // implicitly internal class member
    fileprivate func someFilePrivateMethod() {}  // explicitly file-private class member
    private func somePrivateMethod() {}          // explicitly private class member
}
</code></pre>

<h2 id="toc_10">元组类型</h2>

<ul>
<li>元组类型的访问级别是自动推断的。</li>
</ul>

<h2 id="toc_11">函数类型</h2>

<ul>
<li>public，private，internal，默认internal。</li>
</ul>

<pre><code>private func someFunction() -&gt; (SomeInternalClass, SomePrivateClass) {
    // function implementation goes here
}
</code></pre>

<h2 id="toc_12">枚举类型</h2>

<ul>
<li>枚举原始数据和关联值，默认跟随枚举类型。</li>
</ul>

<pre><code>public enum CompassPoint {
    case north
    case south
    case east
    case west
}
</code></pre>

<h2 id="toc_13">嵌套类型</h2>

<ul>
<li>私有内部嵌套默认私有，公共内部默认内部。也可以自己手动声明。</li>
</ul>

<h1 id="toc_14">子类化</h1>

<ul>
<li>子类的访问级别不能超过父类。</li>
</ul>

<h1 id="toc_15">常量，变量，属性和下标</h1>

<ul>
<li>常量变量属性下标的访问级别不能超过其所属类型。</li>
</ul>

<h2 id="toc_16">getter和setter</h2>

<ul>
<li>默认的TrackedString是内部的，所以numberOfEdit默认是内部的，现在声明为privite(set)，也就变成了内部的readOnly，</li>
</ul>

<pre><code>struct TrackedString {
    private(set) var numberOfEdits = 0
    var value: String = &quot;&quot; {
        didSet {
            numberOfEdits += 1
        }
    }
}
</code></pre>

<ul>
<li>TrackedString为公共的，则numberOfEdits相当于get公开，set私有。也就是外部readOnly。</li>
</ul>

<pre><code>public struct TrackedString {
    public private(set) var numberOfEdits = 0
    public var value: String = &quot;&quot; {
        didSet {
            numberOfEdits += 1
        }
    }
    public init() {}
}
</code></pre>

<h1 id="toc_17">初始化器</h1>

<p>定制初始化可以分配的接入级别小于或等于它们初始化的类型。唯一的例外是所需的初始化（定义所需的初始化器）。一个必需的初始化必须具有相同的访问级别，因为它属于类。</p>

<p>与函数和方法的参数，类型的初始化的参数不能超过初始化自己的访问级别更私密。</p>

<h2 id="toc_18">默认初始化器</h2>

<p>正如描述的默认初始化器，斯威夫特自动提供一个默认初始值没有任何结构或基类，其所有属性提供了默认值，并且不提供至少一个初始化本身的任何参数。</p>

<p>默认初始化具有相同的访问级别，因为它初始化，除非该类型被定义为类型public。对于被定义为类型public，默认初始被认为是内部的。如果你想要一个公共类型为initializable一个无参数初始化另一个模块中使用时，必须明确提供一个公共的无参数初始化自己作为类型定义的一部分。</p>

<h2 id="toc_19">默认按成员初始化器的结构类型</h2>

<p>如果有任何结构的存储属性是私有的结构类型的默认成员逐一初始化被认为是私有的。同样，如果任何结构的存储属性是私有文件，初始化文件是私有的。否则，初始化具有内部的访问级别。</p>

<p>与上面的默认初始值，如果你想在其他模块中使用时，公众的结构类型为initializable与按成员初始化，你必须提供一个公共成员逐一初始化自己作为类型定义的一部分。</p>

<h1 id="toc_20">协议</h1>

<p>如果你想分配一个明确的访问级别的协议类型，在您定义的协议点这样做。这使您可以创建一个只能在一定范围内的访问内通过协议。</p>

<p>的一个协议定义内的每个要求的访问级别被自动设置到相同的访问级别作为协议。你不能设置一个协议要求比它支持该协议不同的访问级别。这确保了所有的协议的要求将是可见的任何类型的采用的协议。</p>

<p>注意</p>

<p>如果你定义一个公共的协议，该协议的要求，要求对这些要求的公共接入水平，他们实施的时候。此行为与其他类型的，其中一个公共类型定义意味着内部的类型成员的访问级别不同。</p>

<h2 id="toc_21">协议继承</h2>

<p>如果你定义一个新的协议，从现有的继承协议，新协议最多只能有相同的访问级别，因为它继承的协议。你可以不写，从内部协议继承，例如一个公共协议。</p>

<h2 id="toc_22">协议一致性</h2>

<p>A型能够符合比类型本身较低访问级别的协议。例如，您可以定义在其他模块中使用的公共类型，但其符合内部协议只能在内部协议的定义模块内使用。</p>

<p>在其中一个类型符合特定协议的上下文的类型的访问级和协议的访问级别的最小值。如果一个类型是公开的，但协议是符合是内部的，该类型的符合该协议也是内部。</p>

<p>当你写或扩展类型以符合协议，则必须确保该类型的实现每个协议要求至少具有相同的访问级别与类型的符合该协议。例如，如果一个公共类型符合内部协议，该类型的实施各协议的要求必须至少“内部”。</p>

<p>注意</p>

<p>在斯威夫特，如在Objective-C，协议一致性是全球性的，这是不可能的类型以符合协议在同一个程序中的两个不同的方法。</p>

<h1 id="toc_23">扩展</h1>

<p>您可以在其中类，结构或枚举可用任何访问上下文扩展一个类，结构或枚举。任何类型的成员扩展添加具有相同的默认访问级别类型成员的原始类型被扩展声明。如果扩展了公共或内部的类型，任何新的类型成员添加有内部默认的访问级别。如果扩展了文件的私有类型，任何新的类型成员添加有私人文件的默认访问级别。如果您扩展私有类型，任何新的类型成员添加有私人默认的访问级别。</p>

<p>或者，你可以标记与明确的访问级别修饰符的扩展名（例如，private extension）设置为扩展中定义的所有成员一个新的默认访问级别。这种新的默认仍然可以扩展单个类型成员内覆盖。</p>

<h2 id="toc_24">添加协议一致性与扩展</h2>

<p>如果您使用的是分机来增加协议一致性不能延期提供一个明确的访问级别修饰符。取而代之的是，协议本身的访问级别是用来提供为扩展内每个协议的要求执行默认的访问级别。</p>

<h1 id="toc_25">泛型</h1>

<p>一个泛型类型或泛型函数的访问级别泛型类型或函数本身和其类型参数的任何类型约束的访问级别的访问级别最低。</p>

<h1 id="toc_26">类型别名</h1>

<p>定义的任何类型的别名被视为不同类型的访问控制的目的。A型别名可以有一个访问级别小于或等于其别名类型的访问级别。例如，一个私有类型别名别名私人文件的私有内部，公共或开放式的，但公共类型别名不能别名的内部文件私人或私有类型。</p>

<p>注意</p>

<p>这一规则也适用于键入用于满足协议相关的不合格类型的别名。</p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="14743600461552.html"  title="Previous Post: 泛型">&laquo; 泛型</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="14743600739128.html" 
	        title="Next Post: 高级操作员">高级操作员 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '14743600592705.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
