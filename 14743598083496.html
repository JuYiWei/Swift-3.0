<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  类和结构 - Swift 3.0 自翻译 - 说了是村长
  
  </title>
 <meta name="description" content="说了是村长，Swift 3.0 中文版">
 <link href="atom.xml" rel="alternate" title="Swift 3.0 自翻译 - 说了是村长" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">Swift 3.0 自翻译 - 说了是村长</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Swift 3.0 自翻译 - 说了是村长</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>欢迎加入 Swift</label></li>

          
            <li><a title="关于 Swift" href="14743413991106.html">关于 Swift</a></li>
          
            <li><a title="Swift 之旅" href="14743413996803.html">Swift 之旅</a></li>
          

      
        <li class="divider"></li>
        <li><label>开发指南</label></li>

          
            <li><a title="基础知识" href="14743596331025.html">基础知识</a></li>
          
            <li><a title="基础运营商 此篇一下未整理仅谷歌翻译" href="14743596434163.html">基础运营商 此篇一下未整理仅谷歌翻译</a></li>
          
            <li><a title="字符串和字符" href="14743596689452.html">字符串和字符</a></li>
          
            <li><a title="集合类型" href="14743596859367.html">集合类型</a></li>
          
            <li><a title="控制流" href="14743597355186.html">控制流</a></li>
          
            <li><a title="功能" href="14743597582027.html">功能</a></li>
          
            <li><a title="关闭" href="14743597798199.html">关闭</a></li>
          
            <li><a title="枚举" href="14743597933965.html">枚举</a></li>
          
            <li><a title="类和结构" href="14743598083496.html">类和结构</a></li>
          
            <li><a title="属性" href="14743598294467.html">属性</a></li>
          
            <li><a title="方法" href="14743598422216.html">方法</a></li>
          
            <li><a title="下标" href="14743598556978.html">下标</a></li>
          
            <li><a title="继承" href="14743598699234.html">继承</a></li>
          
            <li><a title="初始化" href="14743599314901.html">初始化</a></li>
          
            <li><a title="反初始化" href="14743599349637.html">反初始化</a></li>
          
            <li><a title="自动引用计数" href="14743599484388.html">自动引用计数</a></li>
          
            <li><a title="可选链接" href="14743599610249.html">可选链接</a></li>
          
            <li><a title="错误处理" href="14743599754782.html">错误处理</a></li>
          
            <li><a title="类型转换" href="14743599908626.html">类型转换</a></li>
          
            <li><a title="嵌套类型" href="14743600051579.html">嵌套类型</a></li>
          
            <li><a title="扩展" href="14743600183280.html">扩展</a></li>
          
            <li><a title="协议" href="14743600314526.html">协议</a></li>
          
            <li><a title="泛型" href="14743600461552.html">泛型</a></li>
          
            <li><a title="访问控制" href="14743600592705.html">访问控制</a></li>
          
            <li><a title="高级操作员" href="14743600739128.html">高级操作员</a></li>
          

      
        <li class="divider"></li>
        <li><label>语法参考</label></li>

          
            <li><a title="关于语言参考" href="14743601362358.html">关于语言参考</a></li>
          
            <li><a title="词法结构" href="14743601580892.html">词法结构</a></li>
          
            <li><a title="类型" href="14743601607750.html">类型</a></li>
          
            <li><a title="表达式" href="14743601746767.html">表达式</a></li>
          
            <li><a title="声明" href="14743601868497.html">声明</a></li>
          
            <li><a title="声明" href="14743602139425.html">声明</a></li>
          
            <li><a title="属性" href="14743602336703.html">属性</a></li>
          
            <li><a title="模式" href="14743602627751.html">模式</a></li>
          
            <li><a title="泛型参数和参数" href="14743602774984.html">泛型参数和参数</a></li>
          
            <li><a title="语法摘要" href="14743602864403.html">语法摘要</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>欢迎加入 Swift</span></li>
                        
                          <li><a title="关于 Swift" href="14743413991106.html">关于 Swift</a></li>
                        
                          <li><a title="Swift 之旅" href="14743413996803.html">Swift 之旅</a></li>
                        

                    
                      <li class="side-title"><span>开发指南</span></li>
                        
                          <li><a title="基础知识" href="14743596331025.html">基础知识</a></li>
                        
                          <li><a title="基础运营商 此篇一下未整理仅谷歌翻译" href="14743596434163.html">基础运营商 此篇一下未整理仅谷歌翻译</a></li>
                        
                          <li><a title="字符串和字符" href="14743596689452.html">字符串和字符</a></li>
                        
                          <li><a title="集合类型" href="14743596859367.html">集合类型</a></li>
                        
                          <li><a title="控制流" href="14743597355186.html">控制流</a></li>
                        
                          <li><a title="功能" href="14743597582027.html">功能</a></li>
                        
                          <li><a title="关闭" href="14743597798199.html">关闭</a></li>
                        
                          <li><a title="枚举" href="14743597933965.html">枚举</a></li>
                        
                          <li><a title="类和结构" href="14743598083496.html">类和结构</a></li>
                        
                          <li><a title="属性" href="14743598294467.html">属性</a></li>
                        
                          <li><a title="方法" href="14743598422216.html">方法</a></li>
                        
                          <li><a title="下标" href="14743598556978.html">下标</a></li>
                        
                          <li><a title="继承" href="14743598699234.html">继承</a></li>
                        
                          <li><a title="初始化" href="14743599314901.html">初始化</a></li>
                        
                          <li><a title="反初始化" href="14743599349637.html">反初始化</a></li>
                        
                          <li><a title="自动引用计数" href="14743599484388.html">自动引用计数</a></li>
                        
                          <li><a title="可选链接" href="14743599610249.html">可选链接</a></li>
                        
                          <li><a title="错误处理" href="14743599754782.html">错误处理</a></li>
                        
                          <li><a title="类型转换" href="14743599908626.html">类型转换</a></li>
                        
                          <li><a title="嵌套类型" href="14743600051579.html">嵌套类型</a></li>
                        
                          <li><a title="扩展" href="14743600183280.html">扩展</a></li>
                        
                          <li><a title="协议" href="14743600314526.html">协议</a></li>
                        
                          <li><a title="泛型" href="14743600461552.html">泛型</a></li>
                        
                          <li><a title="访问控制" href="14743600592705.html">访问控制</a></li>
                        
                          <li><a title="高级操作员" href="14743600739128.html">高级操作员</a></li>
                        

                    
                      <li class="side-title"><span>语法参考</span></li>
                        
                          <li><a title="关于语言参考" href="14743601362358.html">关于语言参考</a></li>
                        
                          <li><a title="词法结构" href="14743601580892.html">词法结构</a></li>
                        
                          <li><a title="类型" href="14743601607750.html">类型</a></li>
                        
                          <li><a title="表达式" href="14743601746767.html">表达式</a></li>
                        
                          <li><a title="声明" href="14743601868497.html">声明</a></li>
                        
                          <li><a title="声明" href="14743602139425.html">声明</a></li>
                        
                          <li><a title="属性" href="14743602336703.html">属性</a></li>
                        
                          <li><a title="模式" href="14743602627751.html">模式</a></li>
                        
                          <li><a title="泛型参数和参数" href="14743602774984.html">泛型参数和参数</a></li>
                        
                          <li><a title="语法摘要" href="14743602864403.html">语法摘要</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>类和结构</h1>

<p>类和结构是通用的，即成为你的程序的代码的积木柔性结构。您可以定义属性和方法，通过使用完全相同的语法为常量，变量和函数将功能添加到您的类和结构。</p>

<p>不像其他的编程语言，斯威夫特不要求你创建单独的接口和实现文件自定义类和结构。在斯威夫特，你定义一个类或单个文件的结构，外部接口到类或结构的其他代码使用的是自动提供。</p>

<p>注意</p>

<p>一个实例类是传统上已知的作为对象。然而，斯威夫特类和结构在功能上比其他语言更接近，而很多本章介绍了可以应用到的实例功能，无论是类或结构类型。正因为如此，更普通的术语实例被使用。</p>

<p>比较类和结构</p>

<p>类和结构斯威夫特有许多共同的东西。两者都可以：</p>

<p>定义属性来存储值<br/>
限定的方法来提供功能<br/>
定义标用标语法，提供访问其值<br/>
定义初始化设置它们的初始状态<br/>
延伸拓展其功能超出了默认的实现<br/>
顺应协议来提供某一种标准功能<br/>
欲了解更多信息，请参见属性，方法，下标，初始化，扩展和协议。</p>

<p>类具有结构不附加的功能：</p>

<p>继承允许一个类继承的另一个特点。<br/>
类型转换可以检查并在运行时解释一个类实例的类型。<br/>
Deinitializers使类的一个实例，以释放它已经分配的任何资源。<br/>
引用计数允许多个参考一类实例。<br/>
欲了解更多信息，请参见继承，类型转换，反初始化，并自动引用计数。</p>

<p>注意</p>

<p>当他们在你的代码通过周围，也不要使用引用计数的结构总是被复制。</p>

<p>定义语法</p>

<p>类和结构有一个类似的定义语法。你介绍类的class关键字和结构的struct关键字。无论放置一对大括号内的所有定义：</p>

<p>class SomeClass {<br/>
    // class definition goes here<br/>
}<br/>
struct SomeStructure {<br/>
    // structure definition goes here<br/>
}<br/>
注意</p>

<p>当你定义一个新的类或结构，您可以有效地定义了一个全新的雨燕。给出类型UpperCamelCase名称（如SomeClass和SomeStructure这里）来匹配标准斯威夫特类型的资本（如String，Int和Bool）。相反，总是给的属性和方法lowerCamelCase的名称（如frameRate和incrementCount），从类型名称区分。</p>

<p>这里有一个结构定义和类定义的例子：</p>

<p>struct Resolution {<br/>
    var width = 0<br/>
    var height = 0<br/>
}<br/>
class VideoMode {<br/>
    var resolution = Resolution()<br/>
    var interlaced = false<br/>
    var frameRate = 0.0<br/>
    var name: String?<br/>
}<br/>
上面的例子中定义了一个新的结构叫做Resolution，描述一个基于像素的显示分辨率。这种结构叫了两个存储性能width和height。存储属性是常量或者被捆绑起来，作为类或结构的一部分存储的变量。这两个属性被推断为类型Int将它们设置为初始整数值0。</p>

<p>上面还的例子定义了一个名为新类VideoMode，来描述视频显示一个特定的视频模式。这个类有四个变量存储性能。第一，resolution被初始化一个新的Resolution结构实例，其中推断的属性类型Resolution。对于其他三个属性，新VideoMode实例将与被初始化interlaced设定false（意为“非隔行扫描视频”）的再现帧速率0.0，和一个可选String称为值name。在name属性自动给出的缺省值nil，或“无name值”，是因为它是一个可选的类型。</p>

<p>种类及结构实例</p>

<p>该Resolution结构定义和VideoMode类的定义只说明什么Resolution或者VideoMode看起来像。他们自己不描述具体的分辨率或视频模式。要做到这一点，你需要创建的结构或类的一个实例。</p>

<p>创建实例的语法为结构和类非常相似：</p>

<p>let someResolution = Resolution()<br/>
let someVideoMode = VideoMode()<br/>
结构和类都使用了新的实例初始化程序语法。初始化语法最简单的形式使用类或结构后跟空括号，如的类型名称Resolution()或VideoMode()。这将创建类或结构的新实例，与任何属性初始化为它们的默认值。类和结构初始化中更详细地描述初始化。</p>

<p>访问属性</p>

<p>您可以访问使用实例的属性点语法。在点语法，你实例名称后立即写入属性名，用句点（分离.），没有任何空格：</p>

<p>print(<q>The width of someResolution is (someResolution.width)</q>)<br/>
// Prints <q>The width of someResolution is 0</q><br/>
在这个例子中，someResolution.width是指width的属性someResolution，并返回其默认初始值0。</p>

<p>您可以深入到子属性，如width在属性resolution的属性VideoMode：</p>

<p>print(<q>The width of someVideoMode is (someVideoMode.resolution.width)</q>)<br/>
// Prints <q>The width of someVideoMode is 0</q><br/>
您还可以使用点语法到一个新的值赋给变量属性：</p>

<p>someVideoMode.resolution.width = 1280<br/>
print(<q>The width of someVideoMode is now (someVideoMode.resolution.width)</q>)<br/>
// Prints <q>The width of someVideoMode is now 1280</q><br/>
注意</p>

<p>不同的Objective-C，斯威夫特使您能够直接设置的结构属性的子属性。在上面的例子，把width该财产resolution的财产someVideoMode被直接设置，没有你需要将整个设置resolution属性为一个新值。</p>

<p>按成员初始化器的结构类型</p>

<p>所有的结构具有自动生成的成员逐一初始化，您可以用它来 ​​初始化新的结构实例的成员属性。新实例的属性的初始值可以被传递到由名成员逐一初始化：</p>

<p>let vga = Resolution(width: 640, height: 480)<br/>
不同的结构，类实例没有收到默认成员逐一初始化。初始化中更详细地描述初始化。</p>

<p>结构和枚举是值类型</p>

<p>一个值类型是一个类型，其值被复制时，它被分配给一个变量或常数，或当它被传递给函数。</p>

<p>你已经使用值类型广泛的整个前几章实际上是。事实上，所有斯威夫特 - 整数基本类型，浮点数，布尔值，字符串，数组和字典，是值类型，并作为幕后结构实现的。</p>

<p>所有的结构和枚举是斯威夫特值类型。这意味着用户可创建和任何结构和枚举实例的任何值类型它们作为属性，是当他们在你的代码中传来传去始终复制。</p>

<p>考虑下面这个例子，它使用了Resolution前面例子中的结构：</p>

<p>let hd = Resolution(width: 1920, height: 1080)<br/>
var cinema = hd<br/>
这个例子声明了一个名为常量hd并将其设置为一个Resolution与（全高清视频的宽度和高度初始化实例，1920通过像素宽1080像素高）。</p>

<p>然后，它声明了一个变量cinema并将其设置为当前值hd。因为Resolution是一个结构，一个复制现有实例而成，而这个新的拷贝被分配到cinema。即使hd与cinema现在具有相同的宽度和高度，它们是在幕后两个完全不同的实例。</p>

<p>接下来，width财产cinema被修订为稍微增多的2K标准用于数字电影放映（宽度2048像素宽，1080像素高）：</p>

<p>cinema.width = 2048<br/>
检查width的属性cinema表明，它确实已经更改为2048：</p>

<p>print(<q>cinema is now (cinema.width) pixels wide</q>)<br/>
// Prints <q>cinema is now 2048 pixels wide</q><br/>
然而，width与原始属性hd实例仍具有的旧值1920：</p>

<p>print(<q>hd is still (hd.width) pixels wide</q>)<br/>
// Prints <q>hd is still 1920 pixels wide</q><br/>
当cinema被赋予的当前值hd，该值存储在hd被复制到新的cinema实例。最终的结果是两个完全独立的情况下，这正好包含相同的数值。因为它们是独立的情况下，设置的宽度cinema以2048不影响存储在宽度hd。</p>

<p>同样的行为适用于枚举：</p>

<p>enum CompassPoint {<br/>
    case north, south, east, west<br/>
}<br/>
var currentDirection = CompassPoint.west<br/>
let rememberedDirection = currentDirection<br/>
currentDirection = .east<br/>
if rememberedDirection == .west {<br/>
    print(<q>The remembered direction is still .west</q>)<br/>
}<br/>
// Prints <q>The remembered direction is still .west</q><br/>
当rememberedDirection被分配的值currentDirection，它实际上是设置为该值的副本。改变的值currentDirection此后不会影响被存储在所述原始值的副本rememberedDirection。</p>

<p>类是引用类型</p>

<p>不像值类型，引用类型是不当它们被分配给一个变量或常数，或当它们被传递给函数复制。而不是一个拷贝，为相同的现有实例的引用来替代。</p>

<p>下面是一个例子，使用VideoMode上面定义的类：</p>

<p>let tenEighty = VideoMode()<br/>
tenEighty.resolution = hd<br/>
tenEighty.interlaced = true<br/>
tenEighty.name = <q>1080i</q><br/>
tenEighty.frameRate = 25.0<br/>
这个例子声明一个称为新的常数tenEighty，并将它以引用的新实例VideoMode的类。视频模式分配的高清分辨率的副本，1920通过1080从之前。它被设置为交错，并且被赋予的名称<q>1080i</q>。最后，它被设置为帧速率25.0每秒帧。</p>

<p>接着，tenEighty被分配给一个新的常数，称为alsoTenEighty和的帧速率alsoTenEighty被修改：</p>

<p>let alsoTenEighty = tenEighty<br/>
alsoTenEighty.frameRate = 30.0<br/>
由于类是引用类型，tenEighty而alsoTenEighty实际上指的是同一个 VideoMode实例。有效地，它们只是两个用于同单个实例不同的名字。</p>

<p>检查frameRate的财产tenEighty，它可以正确地报告的新的帧速率显示30.0从底层的VideoMode实例：</p>

<p>print(<q>The frameRate property of tenEighty is now (tenEighty.frameRate)</q>)<br/>
// Prints <q>The frameRate property of tenEighty is now 30.0</q><br/>
请注意，tenEighty并alsoTenEighty声明为常量，而不是变量。但是，你仍然可以改变tenEighty.frameRate和alsoTenEighty.frameRate由于价值观tenEighty和alsoTenEighty常量本身并不真正改变，tenEighty而alsoTenEighty本身并没有“商店”的VideoMode实例相反，他们都指到VideoMode幕后实例。它是frameRate在底层的属性VideoMode被改变，为了使恒定引用不值VideoMode。</p>

<p>运营商身份</p>

<p>因为类是参考的类型，它有可能为多个常量和变量来指幕后一类的相同的单一实例。（同样是不适合的结构和枚举真实的，因为当他们被分配到固定或可变他们总是复制或传递给函数）。</p>

<p>如果两个常量或变量指的正是一个类的同一个实例它有时是有用的找出来。为了实现这一目标，雨燕提供了两个身份运营商：</p>

<p>等同于（=<mark>）<br/>
不相同（!</mark>）<br/>
使用这些运算符检查两个常量或变量是否指的是同一个实例：</p>

<p>if tenEighty === alsoTenEighty {<br/>
    print(<q>tenEighty and alsoTenEighty refer to the same VideoMode instance.</q>)<br/>
}<br/>
// Prints <q>tenEighty and alsoTenEighty refer to the same VideoMode instance.</q><br/>
请注意，“相同”（代表由三个等号，或=<mark>）并不意味着同样的事情为“等于”（由两个代表等号，或</mark>）：</p>

<p>“等同于”是指两个常数或类类型的的变量是指完全相同的类的实例。<br/>
“等于”是指两个实例被认为是值“等于”或“等价物”，对于“平等”的一些适当的意义，由该类型的设计师定义。<br/>
当你定义自己的自定义类和结构，它是你的责任，决定为两个实例是“平等”什么资格。定义你自己的实现的过程“等于”和“不等于”运营商在描述对等运营商。</p>

<p>指针</p>

<p>如果你有C，C ++或Objective-C的经验，你可能知道，这些语言使用指针指到的地址在内存中。这是指一些参考类型的实例迅速常量或变量是类似于C的指针，而不是直接指向内存中的地址，并且不需要你写一个星号（*），以表明您创建参考。相反，这些参考文献中定义像夫特任何其它固定或可变。</p>

<p>选择类和结构之间</p>

<p>您可以同时使用类和结构来定义自定义数据类型作为您的程序代码积木使用。</p>

<p>然而，结构实例总是被传递价值，和类实例总是过去了参考。这意味着它们适合于不同类型的任务。当你认为你需要一个项目中的数据结构和功能，决定每一个数据结构是否应该被定义为类或结构。</p>

<p>作为一般原则，考虑创建一个结构，当一个或多个条件适用：</p>

<p>结构的主要目的是封装几个比较简单的数据值。<br/>
这是合理的预期，封装的值将被复制，而不是当你分配或绕过该结构的一个实例引用。<br/>
由结构存储的任何属性本身的值类型，这也将被预期要复制的，而不是被引用。<br/>
该结构不需要从其他现有类型继承属性或行为。<br/>
良好候选结构的实例包括：</p>

<p>几何形状的尺寸，或者包封width属性和height属性，两个类型的Double。<br/>
一种方法来指代范围内的系列中，也许一个封装start属性和length特性，既类型Int。<br/>
在三维坐标系中，A点也许封装x，y和z特性，每种类型的Double。<br/>
在其他情况下，定义一个类，并创建一个类的实例来进行管理，并通过引用传递。在实践中，这意味着大多数自定义数据结构应该是类，而不是结构。</p>

<p>转让和复制行为的字符串，数组和字典</p>

<p>在斯威夫特，许多基本数据类型，如String，Array和Dictionary实现为结构。这意味着，当它们被传递给函数或方法时它们被分配到一个新的常数或变量诸如字符串，数组和字典数据被复制，或。</p>

<p>此行为是不同基金：NSString，NSArray，和NSDictionary为类，而不是结构来实现。字符串，数组，并在基金会字典始终分配，并通过周围作为参考，以现有的实例，而不是作为一个副本。</p>

<p>注意</p>

<p>上面的描述指的是字符串，数组和字典的“复制”。在你的代码，你看到的行为将永远是，如果一个副本发生。然而，夫特仅执行一个实际的，当它是绝对必要这么做幕后副本。斯威夫特管理所有值复制，以确保最佳的性能，你不应该避免分配，试图抢占这个优化。</p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="14743597933965.html"  title="Previous Post: 枚举">&laquo; 枚举</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="14743598294467.html" 
	        title="Next Post: 属性">属性 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '14743598083496.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
